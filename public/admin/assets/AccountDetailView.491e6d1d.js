import{a as n}from"./accountsService.131ffccb.js";import{t as D,e as u,a as w,V as r,c as d,d as y,g as v,b as m,h as $,i as T}from"./VMain.6e411fe2.js";import{_,a as h,b as f,c as U}from"./VCard.fe71e90b.js";import{o as A,h as I,a as e,w as t,f as s,e as c,b as p,t as B,V as g,d as V,F as j,r as x,c as S}from"./index.84324f05.js";const N={data:()=>({loadingAccount:!0,trails:[],search:"",dialogDelete:!1,formTitle:"",account:{uuid:"",account_name:"",page_id:"",trails:[]},originalAccount:{uuid:"",account_name:"",page_id:"",trails:[]}}),methods:{async loadAccount(){this.loadingAccount=!0;try{this.account={},this.account=await n.getAccount(this.id),this.originalAccount=Object.assign({},this.account),this.trails=[],this.trails=await D.getTrails(),this.loadingAccount=!1}catch{this.loadingAccount=!1}},deleteItem(){this.formTitle="",this.dialogDelete=!0},async deleteItemConfirm(){await n.deleteAccount(this.account.UUID||this.account.uuid),this.closeDelete(),this.$router.push("/")},closeDelete(){this.dialogDelete=!1,this.formTitle=""},async save(){await n.updateAccount(this.originalAccount,this.account),await this.loadAccount(),this.close()},handleClick(a){console.log(a)}},created(){this.loadAccount()},watch:{account:{deep:!0,handler:function(a){console.log(a),console.log(this.originalAccount),this.changed=!1;for(const l of Object.keys(a))if(this.originalAccount[l]!=a[l]){this.changed=!0;break}}}},props:["id"]},F={class:"headline"},O=["src"];function E(a,l,b,k,C,i){return A(),I(j,null,[e(w,{modelValue:a.dialogDelete,"onUpdate:modelValue":l[0]||(l[0]=o=>a.dialogDelete=o),"max-width":"500px"},{default:t(()=>[e(h,null,{default:t(()=>[e(f,{class:"text-h5"},{default:t(()=>[s("Are you sure you want to delete this Account?")]),_:1}),e(U,null,{default:t(()=>[e(u),e(c,{color:"blue-darken-1",variant:"text",onClick:i.closeDelete},{default:t(()=>[s("Cancel")]),_:1},8,["onClick"]),e(c,{color:"error",variant:"text",onClick:i.deleteItemConfirm},{default:t(()=>[s("OK")]),_:1},8,["onClick"]),e(u)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(h,{rounded:"lg",width:"100%"},{default:t(()=>[e(f,null,{default:t(()=>[p("span",F,"Account - "+B(this.account.account_name),1)]),_:1}),e(g),e(r,{class:"my-3 d-flex align-center",justify:"space-between"},{default:t(()=>[e(d,{class:"ml-2"},{default:t(()=>[e(V,{modelValue:a.account.account_name,"onUpdate:modelValue":l[1]||(l[1]=o=>a.account.account_name=o),label:"Name"},null,8,["modelValue"]),e(V,{modelValue:a.account.page_id,"onUpdate:modelValue":l[2]||(l[2]=o=>a.account.page_id=o),label:"Page ID"},null,8,["modelValue"]),e(y,{modelValue:a.account.trails,"onUpdate:modelValue":l[3]||(l[3]=o=>a.account.trails=o),items:a.trails,"item-title":"name","item-value":"UUID","return-object":"",chips:"","closable-chips":"",label:"Trails",multiple:""},null,8,["modelValue","items"]),e(r,{justify:"space-around",class:"mt-1"},{default:t(()=>[e(c,{color:"success",dark:"",class:"mb-2 mr-5 ml-2",disabled:!a.changed,onClick:i.save},{default:t(()=>[s(" Save Changes ")]),_:1},8,["disabled","onClick"]),e(c,{color:"error",dark:"",class:"mb-2 mr-5 ml-2",onClick:i.deleteItem},{default:t(()=>[s(" Delete ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(g,{thickness:2,inset:"",vertical:""}),e(d,{class:"mr-3",style:{height:"500px"}},{default:t(()=>[p("iframe",{src:`/public/api/twitter-consortium?twitter=${a.account.page_id}`,style:{width:"100%","min-height":"100%",border:"none"}},null,8,O)]),_:1})]),_:1})]),_:1})],64)}const G=_(N,[["render",E]]),K={data:()=>({}),components:{AccountDetails:G},props:["id"]};function M(a,l,b,k,C,i){const o=x("AccountDetails");return A(),S(v,{id:"inspire"},{default:t(()=>[e($,{flat:""},{default:t(()=>[e(m,{class:"fill-height d-flex align-center wide"},{default:t(()=>[e(c,{variant:"text",onClick:l[0]||(l[0]=P=>this.$router.push("/"))},{default:t(()=>[s(" Go back to home ")]),_:1})]),_:1})]),_:1}),e(T,{class:"bg-grey-lighten-3"},{default:t(()=>[e(m,null,{default:t(()=>[e(o,{id:this.id},null,8,["id"])]),_:1})]),_:1})]),_:1})}const J=_(K,[["render",M]]);export{J as default};
