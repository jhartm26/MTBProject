import{f as o}from"./VMain.6e411fe2.js";const l={async getAccounts(){const t=await o.get("/rest/api/social-media/accounts"),a=[];for(const s of t.data){const e=Object.assign({},s);e.trails_table=e.trails.map(c=>c.name).join(", "),e.last_update=new Date(e.last_update).toLocaleString(),a.push(e)}return a},async getAccount(t){const s=(await o.get(`/rest/api/social-media/accounts?id=${t}`)).data;return s.trails_table=s.trails.map(e=>e.name).join(", "),s.last_update=new Date(s.last_update).toLocaleString(),s},async createAccount(t){const a=await o.put("/rest/api/social-media/accounts",t);return t.UUID=a.data.UUID,await this.associateAccount(t.trails,t),a.data},async updateAccount(t,a){const s=[],e=t.trails.map(i=>i.UUID);for(const i of a.trails)e.includes(i.UUID)||s.push(i);const c=[],r=a.trails.map(i=>i.UUID);for(const i of t.trails)r.includes(i.UUID)||c.push(i);s.length>0&&await this.associateAccount(s,t),c.length>0&&await this.disassociateAccount(c,t);const n=Object.assign({},a);return delete n.trails,(await o.post(`/rest/api/social-media/accounts/edit?id=${a.UUID}`,n)).data},async deleteAccount(t){return(await o.delete(`/rest/api/social-media/accounts?id=${t}`)).data},async associateAccount(t,a){return(await o.post(`/rest/api/social-media/accounts/associate-trails?id=${a.UUID}`,{trails:t})).data},async disassociateAccount(t,a){return(await o.post(`/rest/api/social-media/accounts/disassociate-trails?id=${a.UUID}`,{trails:t})).data}};export{l as a};
